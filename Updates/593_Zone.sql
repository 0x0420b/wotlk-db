-- Halgrind - Howling Fjord

-- missing spawns - UDB free guids reused
-- 108079 - Duplicate removed
DELETE FROM creature WHERE guid IN (74703,74704,74705,74707,119585,119586,119587,119588,128994,128995,128996,129000,129001,108079,129151,129152,129165);
DELETE FROM creature_addon WHERE guid IN (74703,74704,74705,74707,119585,119586,119587,119588,128994,128995,128996,129000,129001,108079,129151,129152,129165);
DELETE FROM creature_movement WHERE id IN (74703,74704,74705,74707,119585,119586,119587,119588,128994,128995,128996,129000,129001,108079,129151,129152,129165);
DELETE FROM game_event_creature WHERE guid IN (74703,74704,74705,74707,119585,119586,119587,119588,128994,128995,128996,129000,129001,108079,129151,129152,129165);
DELETE FROM game_event_creature_data WHERE guid IN (74703,74704,74705,74707,119585,119586,119587,119588,128994,128995,128996,129000,129001,108079,129151,129152,129165);
DELETE FROM creature_battleground WHERE guid IN (74703,74704,74705,74707,119585,119586,119587,119588,128994,128995,128996,129000,129001,108079,129151,129152,129165);
DELETE FROM creature_linking WHERE guid IN (74703,74704,74705,74707,119585,119586,119587,119588,128994,128995,128996,129000,129001,108079,129151,129152,129165) OR 
master_guid IN (74703,74704,74705,74707,119585,119586,119587,119588,128994,128995,128996,129000,129001,108079,129151,129152,129165);
INSERT INTO creature (guid, id, map, spawnMask, phaseMask, modelid, equipment_id, position_x, position_y, position_z, orientation, spawntimesecs, spawndist, currentwaypoint, curhealth, curmana, DeathState, MovementType) VALUES 
-- Plagued Proto-Dragon
(74703,23680,571,1,1,0,0,838.0903,-4421.268,159.749,2.79069,300,0,0,8982,0,0,2),
-- Plagued Dragonflayer Tribesman
(74704,23564,571,1,1,0,0,874.983,-4472.95,143.205,1.658063,300,0,0,1182,0,0,0),
(74705,23564,571,1,1,0,0,875.054,-4430.12,140.054,4.031711,300,0,0,1182,0,0,0),
(74707,23564,571,1,1,0,0,878.236,-4449.95,141.44,3.036873,300,0,0,1215,0,0,0),
(119585,23564,571,1,1,0,0,878.811,-4446.43,140.959,2.687807,300,0,0,1215,0,0,0),
(119586,23564,571,1,1,0,0,919.587,-4511.52,156.3,2.86234,300,0,0,1215,0,0,0),
(119587,23564,571,1,1,0,0,929.028,-4521.01,158.055,1.186824,300,0,0,1182,0,0,0),
(119588,23564,571,1,1,0,0,995.668,-4505.52,167.345,0.8028514,300,0,0,1215,0,0,0),
-- Plagued Dragonflayer Rune-Caster
(128994,24198,571,1,1,0,0,989.669,-4476.21,167.638,0.557216,300,0,0,828,7031,0,2),
(128995,24198,571,1,1,0,0,970.831,-4376.67,147,3.11761,300,0,0,851,7196,0,2),
(128996,24199,571,1,1,0,0,892.56,-4395.96,139.548,5.94404,300,0,0,2395,0,0,0),
-- Plagued Dragonflayer Handler
(129000,24199,571,1,1,0,0,857.193,-4493.55,147.755,5.94404,300,0,0,2395,0,0,0),
(129001,24199,571,1,1,0,0,891.334,-4501.43,149.307,1.54896,300,0,0,2695,0,0,0),
-- Forsaken Plaguebringer
(108079,23760,571,1,1,0,0,746.236,-4538.01,197.482,4.05126,300,5,0,8982,0,0,1),
(129151,23760,571,1,1,0,0,779.314,-4558.84,196.358,0.815419,300,5,0,8982,0,0,1),
(129152,23760,571,1,1,0,0,770.044,-4519.17,192.333,4.6851,300,5,0,8982,0,0,1),
(129165,23760,571,1,1,0,0,790.658,-4530.99,191.755,3.50935,300,5,0,8982,0,0,1);

-- Plagued Proto-Dragon
DELETE FROM creature_addon WHERE guid IN (74703,107626);
INSERT INTO creature_addon (guid, mount, bytes1, b2_0_sheath, b2_1_pvp_state, emote, moveflags, auras) VALUES 
(74703,0,50331648,0,0,0,0,21862),
(107626,0,50331648,0,0,0,0,21862);
-- waypoints
UPDATE creature SET Spawndist = 0, MovementType = 2 WHERE guid = 107626;
DELETE FROM creature_movement WHERE id IN (107626,74703);
INSERT INTO creature_movement (id, point, position_x, position_y, position_z, waittime, script_id, orientation, model1, model2) VALUES
-- #107626
(107626,1,970.8172,-4414.116,183.0234, 0, 2368001,100, 0, 0),
(107626,2,965.2072,-4437.407,183.0234, 0, 0,100, 0, 0),
(107626,3,951.1507,-4476.977,183.0234, 0, 0,100, 0, 0),
(107626,4,927.3598,-4489.011,183.0234, 0, 0,100, 0, 0),
(107626,5,897.2952,-4490.891,176.0235, 0, 0,100, 0, 0),
(107626,6,870.3734,-4470.64,159.9124, 0, 0,100, 0, 0),
(107626,7,865.3719,-4445.252,158.718, 0, 0,100, 0, 0),
(107626,8,900.4534,-4437.886,162.5234, 0, 0,100, 0, 0),
(107626,9,944.3013,-4457.844,162.5234, 0, 0,100, 0, 0),
(107626,10,974.0807,-4460.739,176.8289, 0, 0,100, 0, 0),
(107626,11,1013.641,-4449.255,179.4955, 0, 0,100, 0, 0),
(107626,12,1041.177,-4412.634,183.0234, 0, 0,100, 0, 0),
(107626,13,1038.188,-4402.213,183.0234, 0, 0,100, 0, 0),
(107626,14,1022.602,-4388.08,183.0234, 0, 0,100, 0, 0),
(107626,15,993.7949,-4390.818,183.0234, 0, 0,100, 0, 0),
-- 74703
(74703,1,838.0903,-4421.268,159.749, 0, 2368001,100, 0, 0),
(74703,2,801.8729,-4407.143,179.2211, 0, 0,100, 0, 0),
(74703,3,782.8507,-4413.701,194.3322, 0, 0,100, 0, 0),
(74703,4,777.4731,-4419.182,198.0821, 0, 0,100, 0, 0),
(74703,5,774.1382,-4438.679,206.8877, 0, 0,100, 0, 0),
(74703,6,814.439,-4462.499,206.8877, 0, 0,100, 0, 0),
(74703,7,848.4948,-4489.605,206.8877, 0, 0,100, 0, 0),
(74703,8,876.2105,-4490.642,206.8877, 0, 0,100, 0, 0),
(74703,9,896.0039,-4450.317,192.8044, 0, 0,100, 0, 0),
(74703,10,897.2634,-4422.887,179.6656, 0, 0,100, 0, 0),
(74703,11,907.506,-4392.95,179.6656, 0, 0,100, 0, 0),
(74703,12,933.834,-4369.785,166.0267, 0, 0,100, 0, 0),
(74703,13,956.7077,-4379.646,166.0267, 0, 0,100, 0, 0),
(74703,14,967.011,-4400.757,158.8045, 0, 0,100, 0, 0),
(74703,15,966.2571,-4425.053,159.749, 0, 0,100, 0, 0),
(74703,16,932.5647,-4461.108,159.749, 0, 0,100, 0, 0),
(74703,17,891.5416,-4476.208,159.749, 0, 0,100, 0, 0),
(74703,18,861.6124,-4460.188,159.749, 0, 0,100, 0, 0),
(74703,19,847.8322,-4441.198,159.749, 0, 0,100, 0, 0);
DELETE FROM dbscripts_on_creature_movement WHERE id = 2368001; 
INSERT INTO dbscripts_on_creature_movement (id, delay, command, datalong, datalong2, buddy_entry, search_radius, data_flags, dataint, dataint2, dataint3, dataint4, x, y, z, o, comments) VALUES
(2368001,0,25,1,0,0,0,0,0,0,0,0,0,0,0,0,'RUN ON');

-- Plagued Dragonflayer Tribesman
-- correct aura added (some has individual addon)
UPDATE creature SET position_x = 849.750610, position_y = -4430.707031, position_z = 141.661942, orientation = 5.67232 WHERE guid = 97534;
UPDATE creature_addon SET auras = 21862 WHERE guid IN (SELECT guid FROM creature WHERE id = 23564);
UPDATE creature_addon SET bytes1 = 1 WHERE guid IN (97518,97520,97522,97529,97531,97538,97541);
UPDATE creature_addon SET bytes1 = 7 WHERE guid IN (97519,97521,97524,97528,97530,97532);
UPDATE creature_addon SET bytes1 = 8 WHERE guid IN (97517,97527,97534,97535,97537);
DELETE FROM creature_addon WHERE guid IN (74704,74705,74707,119585,119586,119587,119588);
INSERT INTO creature_addon (guid, mount, bytes1, b2_0_sheath, b2_1_pvp_state, emote, moveflags, auras) VALUES 
(74704,0,7,1,0,0,0,21862),
(74705,0,8,1,0,0,0,21862),
(74707,0,8,1,0,0,0,21862),
(119585,0,8,1,0,0,0,21862),
(119586,0,1,1,0,0,0,21862),
(119587,0,1,1,0,0,0,21862),
(119588,0,8,1,0,0,0,21862);

-- Plagued Dragonflayer Rune-Caster
UPDATE creature SET Spawndist = 0, MovementType = 2 WHERE guid = 108040;
UPDATE creature SET position_x = 862.190002, position_y = -4444.259766, position_z = 141.966995, orientation = 0.9424778, Spawndist = 0, MovementType = 2 WHERE guid = 108041;
UPDATE creature SET position_x = 807.004272, position_y = -4387.979492, position_z = 152.712494, orientation = 2.063896, Spawndist = 0, MovementType = 2 WHERE guid = 108042;
DELETE FROM creature_movement WHERE id IN (108040,108041,108042,128994,128995);
INSERT INTO creature_movement (id, point, position_x, position_y, position_z, waittime, script_id, orientation, model1, model2) VALUES
-- #108041
(108041,1,862.190002,-4444.259766,141.966995, 10000, 2419801,0.9424778, 0, 0),
(108041,2,862.190002,-4444.259766,141.966995, 30000, 0,0.9424778, 0, 0),
-- #108042
(108042,1,796.715,-4367.63,159.837, 0, 0,1.80079, 0, 0),
(108042,2,794.163,-4354.12,165.151, 0, 0,1.49527, 0, 0),
(108042,3,794.94,-4346.73,167.187, 0, 0,1.25336, 0, 0),
(108042,4,805.786,-4325.6,172.12, 2000, 0,1.59656, 0, 0),
(108042,5,796.046,-4341.28,168.731, 0, 0,4.26534, 0, 0),
(108042,6,794.001,-4348.73,166.614, 0, 0,4.63374, 0, 0),
(108042,7,795.358,-4365.55,160.741, 0, 0,4.92354, 0, 0),
(108042,8,799.418,-4375.11,157.208, 0, 0,5.2534, 0, 0),
(108042,9,808.877,-4392.97,151.874, 0, 0,5.40577, 0, 0),
(108042,10,818.311,-4400.34,148.999, 2000, 0,5.54007, 0, 0),
(108042,11,807.525,-4390.05,152.384, 0, 0,2.17699, 0, 0),
-- #108040
(108040,1,954.228,-4459.11,152.164, 0, 0,4.12291, 0, 0),
(108040,2,948.589,-4473.04,152.307, 0, 0,4.42136, 0, 0),
(108040,3,946.968,-4482.25,153.868, 0, 0,4.19673, 0, 0),
(108040,4,937.376,-4497.07,156.692, 0, 0,4.29098, 0, 0),
(108040,5,930.613,-4516.59,158.183, 2000, 0,4.37344, 0, 0),
(108040,6,936.368,-4500.18,158.034, 0, 0,1.26719, 0, 0),
(108040,7,943.211,-4487.8,155.661, 0, 0,1.05121, 0, 0),
(108040,8,946.875,-4473.63,152.226, 0, 0,1.14545, 0, 0),
(108040,9,952.041,-4463,152.268, 0, 0,0.972667, 0, 0),
(108040,10,961.682,-4449.64,152.153, 0, 0,1.00408, 0, 0),
(108040,11,971.687,-4433.85,152.146, 0, 0,1.07084, 0, 0),
(108040,12,976.634,-4421.39,152.148, 2000, 0,1.26326, 0, 0),
(108040,13,966.452,-4442.21,152.162, 0, 0,4.15746, 0, 0),
-- #128994
(128994,1,1006.94,-4464.55,167.584, 0, 0,0.583133, 0, 0),
(128994,2,1022.61,-4456.91,168.29, 0, 0,0.491241, 0, 0),
(128994,3,1030.85,-4451.41,168.491, 0, 0,0.729217, 0, 0),
(128994,4,1055.27,-4421.39,168.477, 0, 0,0.980544, 0, 0),
(128994,5,1037.65,-4443.8,168.492, 0, 0,4.00826, 0, 0),
(128994,6,1027.29,-4453.99,168.28, 0, 0,3.78442, 0, 0),
(128994,7,1012.65,-4461.86,167.737, 0, 0,3.59592, 0, 0),
(128994,8,1000.05,-4468.83,167.652, 0, 0,3.81976, 0, 0),
(128994,9,988.021,-4485.7,166.632, 0, 0,3.86296, 0, 0),
(128994,10,978.645,-4491.86,163.363, 0, 0,3.39564, 0, 0),
(128994,11,966.245,-4491.74,159.562, 0, 0,2.85372, 0, 0),
(128994,12,955.912,-4486.65,155.546, 0, 0,2.44924, 0, 0),
(128994,13,945.883,-4473.35,152.125, 0, 0,2.52385, 0, 0),
(128994,14,936.984,-4470.9,150.22, 0, 0,3.16395, 0, 0),
(128994,15,924.58,-4473.01,147.126, 0, 0,3.32889, 0, 0),
(128994,16,905.275,-4477.65,144.626, 2000, 0,2.74376, 0, 0),
(128994,17,925.473,-4472.85,147.331, 0, 0,0.261905, 0, 0),
(128994,18,937.476,-4471.39,150.375, 0, 0,6.01495, 0, 0),
(128994,19,946.484,-4474.27,152.255, 0, 0,5.49659, 0, 0),
(128994,20,954.157,-4484.69,154.811, 0, 0,5.54372, 0, 0),
(128994,21,966.204,-4491.86,159.57, 0, 0,6.11469, 0, 0),
(128994,22,974.689,-4493.15,162.223, 0, 0,0.0396371, 0, 0),
(128994,23,982.835,-4489.49,164.929, 0, 0,0.711153, 0, 0),
(128994,24,991.043,-4478.96,167.467, 0, 0,0.777912, 0, 0),
-- #128995
(128995,1,951.756,-4379.71,144.445, 0, 0,3.48518, 0, 0),
(128995,2,940.248,-4386.02,142.462, 0, 0,3.45141, 0, 0),
(128995,3,922.019,-4389.65,140.333, 0, 0,3.69885, 0, 0),
(128995,4,898.319,-4408.45,138.871, 2000, 0,3.80095, 0, 0),
(128995,5,921.63,-4390.34,140.275, 0, 0,0.317709, 0, 0),
(128995,6,940.063,-4386.25,142.398, 0, 0,0.462522, 0, 0),
(128995,7,951.553,-4379.92,144.401, 0, 0,0.171924, 0, 0),
(128995,8,969.724,-4376.67,146.842, 0, 0,6.13702, 0, 0),
(128995,9,986.587,-4382.35,148.889, 0, 0,5.91712, 0, 0),
(128995,10,999.606,-4385.74,150.609, 0, 0,6.09383, 0, 0),
(128995,11,1018.35,-4388.7,153.582, 0, 0,6.15273, 0, 0),
(128995,12,1031.68,-4392.24,157.303, 0, 0,5.85821, 0, 0),
(128995,13,1044.14,-4398.58,162.588, 0, 0,5.79538, 0, 0),
(128995,14,1056.51,-4403.86,167.131, 0, 0,6.07027, 0, 0),
(128995,15,1070.4,-4403.68,169.807, 0, 0,0.365132, 0, 0),
(128995,16,1079.58,-4399,172.471, 0, 0,0.530066, 0, 0),
(128995,17,1080.7,-4398.37,172.709, 0, 0,3.60883, 0, 0),
(128995,18,1071.03,-4403.37,169.971, 0, 0,3.35357, 0, 0),
(128995,19,1057.36,-4403.94,167.343, 0, 0,2.90982, 0, 0),
(128995,20,1045.99,-4399.47,163.357, 0, 0,2.62315, 0, 0),
(128995,21,1032.93,-4392.49,157.723, 0, 0,2.84306, 0, 0),
(128995,22,1012.28,-4387.74,152.639, 0, 0,3.03549, 0, 0),
(128995,23,994.52,-4384.65,150.15, 0, 0,2.88105, 0, 0),
(128995,24,971.768,-4376.96,147.039, 0, 0,2.96352, 0, 0);
DELETE FROM dbscripts_on_creature_movement WHERE id = 2419801; 
INSERT INTO dbscripts_on_creature_movement (id, delay, command, datalong, datalong2, buddy_entry, search_radius, data_flags, dataint, dataint2, dataint3, dataint4, x, y, z, o, comments) VALUES
(2419801,0,15,43241,0,0,0,0,0,0,0,0,0,0,0,0,'');

-- Plagued Dragonflayer Handler
-- correct aura added (some has individual addon)
DELETE FROM creature_addon WHERE guid IN (108057,108069,108076,108080,108081,128996,129000);
INSERT INTO creature_addon (guid, mount, bytes1, b2_0_sheath, b2_1_pvp_state, emote, moveflags, auras) VALUES 
(108057,0,8,1,0,0,0,21862),
(108069,0,1,1,0,0,0,21862),
(108076,0,8,1,0,0,0,21862),
(108080,0,1,1,0,0,0,21862),
(108081,0,1,1,0,0,0,21862),
(128996,0,1,1,0,0,0,21862),
(129000,0,8,1,0,0,0,21862),
(129001,0,1,1,0,0,0,21862);

-- Forsaken Plaguebringer
UPDATE creature SET position_x = 842.552124, position_y = -4274.243164, position_z = 175.878815, orientation = 1.355744, Spawndist = 5, MovementType = 1 WHERE guid = 115577;
UPDATE creature SET position_x = 1095.213867, position_y = -4504.448730, position_z = 189.612350, orientation = 3.631074, Spawndist = 5, MovementType = 1 WHERE guid = 115568;
UPDATE creature SET Spawndist = 0, MovementType = 2 WHERE guid IN (115562,115580,115581,115572,115566,115565,115567,115570);
DELETE FROM creature_movement WHERE id IN (115562,115580,115581,115572,115566,115565,115567,115570);
INSERT INTO creature_movement (id, point, position_x, position_y, position_z, waittime, script_id, orientation, model1, model2) VALUES
-- 1st group
(115562,1,855.464,-4343.93,183.457, 10000, 2376001,4.93928, 0, 0),
(115562,2,855.464,-4343.93,183.457, 20000, 0,4.93928, 0, 0),
(115580,1,877.788,-4341.89,177.607, 10000, 2376001,4.86947, 0, 0),
(115580,2,877.788,-4341.89,177.607, 20000, 0,4.86947, 0, 0),
-- 2nd group
(115581,1,972.214,-4312.28,172.931, 8000, 2376002,4.76475, 0, 0),
(115581,2,972.214,-4312.28,172.931, 20000, 0,4.76475, 0, 0),
(115572,1,997.322,-4315.66,170.073, 8000, 2376002,4.41568, 0, 0),
(115572,2,997.322,-4315.66,170.073, 20000, 0,4.41568, 0, 0),
-- 3rd group
(115566,1,803.946,-4506.55,183.857, 13000, 2376003,1.39626, 0, 0),
(115566,2,803.946,-4506.55,183.857, 20000, 0,1.39626, 0, 0),
(115565,1,790.224,-4498,187.403, 13000, 2376003,0.820305, 0, 0),
(115565,2,790.224,-4498,187.403, 20000, 0,0.820305, 0, 0),
-- 4th group
(115567,1,1082.05,-4492.48,191.021, 10000, 2376004,2.72271, 0, 0),
(115567,2,1082.05,-4492.48,191.021, 20000, 0,2.72271, 0, 0),
(115570,1,1088.97,-4482.34,192.278, 10000, 2376004,2.60054, 0, 0),
(115570,2,1088.97,-4482.34,192.278, 20000, 0,2.60054, 0, 0);
DELETE FROM dbscripts_on_creature_movement WHERE id BETWEEN 2376001 AND 2376004; 
INSERT INTO dbscripts_on_creature_movement (id, delay, command, datalong, datalong2, buddy_entry, search_radius, data_flags, dataint, dataint2, dataint3, dataint4, x, y, z, o, comments) VALUES
(2376001,0,15,43333,0,24042,118035,1 | 0x08 | 0x10,0,0,0,0,0,0,0,0,''),
(2376002,0,15,43333,0,24042,118033,1 | 0x08 | 0x10,0,0,0,0,0,0,0,0,''),
(2376003,0,15,43333,0,24042,118034,1 | 0x08 | 0x10,0,0,0,0,0,0,0,0,''),
(2376004,0,15,43333,0,24042,118000,1 | 0x08 | 0x10,0,0,0,0,0,0,0,0,'');
-- spell must have a target
DELETE FROM spell_script_target WHERE entry = 43333;
INSERT INTO spell_script_target (entry, type, targetEntry, inverseEffectMask) VALUES
(43333, 1, 24042, 0);
